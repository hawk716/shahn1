# ุจูุช ุงูุชูููุฌุฑุงู ูุฅุฏุงุฑุฉ ุงูุณุญุจ - ุฏููู ุดุงูู

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ูุธุงู ุงูุตูุงุญูุงุช ูุงูุฃูุงู
- **ูุดุฑู ุฑุฆูุณู**: ุงููุณุชุฎุฏู ุจุฑูู 8083596989 ูู ุตุงุญุจ ุงูุตูุงุญูุงุช ุงููุงููุฉ
- **ุฅุถุงูุฉ ูุดุฑููู**: ุงุณุชุฎุฏุงู ุงูุฃูุฑ `/admin {user_id}` (ูู ุงููุดุฑู ุงูุฑุฆูุณู ููุท)
- **ุญูุงูุฉ ูุงููุฉ**: ุงูุจูุช ูุง ูุณุชุฌูุจ ุฅูุง ูููุดุฑููู ุงููุตุฑุญ ููู

### 2. ูุนุงูุฌุฉ ุทูุจุงุช ุงูุณุญุจ
ุนูุฏ ุงุณุชูุจุงู ุทูุจ ุณุญุจ ูู ุงููููุน:
```
๐ค ุงููุณุชุฎุฏู: [ุงูุงุณู]
๐ฐ ุงูุฑุตูุฏ ุงูููู: [ุงููุจูุบ]
๐ฅ ูุณุญูุจุงุช ุณุงุจูุฉ: [ุงูุฑูู]
๐ ุชุงุฑูุฎ ุงูุชุณุฌูู: [ุงูุชุงุฑูุฎ]
๐ ุงูุณุฌู: [ุงูุนุฏุฏ] ูุงุฌุญุฉ | [ุงูุนุฏุฏ] ูุงุดูุฉ
```

### 3. ูุงุฌูุฉ ุงูุฃุฒุฑุงุฑ ุงูุชูุงุนููุฉ

**ุงููุฑุญูุฉ ุงูุฃููู** (ุนูุฏ ูุตูู ุงูุทูุจ):
- "ูุจูู ๐ข" - ูุจูู ุงูุทูุจ ูุงูุงูุชูุงู ูููุฑุญูุฉ ุงูุซุงููุฉ
- "ูุฑุงุณูุฉ ๐ง" - ุนุฑุถ ุจุฑูุฏ ุงูุนููู

**ุงููุฑุญูุฉ ุงูุซุงููุฉ** (ุจุนุฏ ุงูุถุบุท ุนูู ูุจูู):
- "ููุงููุฉ โ" (ุฃุฎุถุฑ) - ุงูููุงููุฉ ุนูู ุงูุณุญุจ
- "ุฑูุถ โ" (ุฃุญูุฑ) - ุฑูุถ ุงูุณุญุจ

ุนูุฏ ุงูุงุฎุชูุงุฑุ ูุชู ุชุญุฏูุซ ุงูุฑุณุงูุฉ ููุฑุงู ูุนุฑุถ ุงูุญุงูุฉ ุงูููุงุฆูุฉ ูุงูููุช.

### 4. ุฅุฏุงุฑุฉ ุงููุนุงููุงุช
- ุฒุฑ ุซุงุจุช "ุงููุนุงููุงุช ๐" ูู ุงููุงุฆูุฉ ุงูุณูููุฉ
- ุนุฑุถ ุขุฎุฑ 10 ูุนุงููุงุช ูุน ุญุงูุชูุง
- ุฅููุงููุฉ ุนุฑุถ ุชูุงุตูู ูู ูุนุงููุฉ
- ุฒุฑ "ุชุญุฏูุซ ๐" ูุชูุดูุท ุงููุงุฆูุฉ

## ุงูุจููุฉ ุงูููุฏุณูุฉ

```
bot/
โโโ __init__.py          # Package init
โโโ database.py          # ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช SQLite
โโโ main.py             # ุงูุจูุช ุงูุฑุฆูุณู ูุน ุงููุนุงูุฌุงุช
โโโ requirements.txt     # ุงูููุชุจุงุช ุงููุทููุจุฉ
โโโ .env.example        # ูุซุงู ุนูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ bot_data.db         # ูุงุนุฏุฉ ุงูุจูุงูุงุช (ููุดุฃ ุชููุงุฆูุงู)

app/api/
โโโ telegram/
    โโโ webhook/
        โโโ route.ts    # API Endpoint ููุฑุจุท ูุน ุงููููุน
```

## ุงููุชุทูุจุงุช

- Python 3.10+
- pip
- Node.js (ูููููุน)

## ุฎุทูุงุช ุงูุชุซุจูุช

### 1. ุชุซุจูุช ุงูุจูุช

```bash
# ูุณุฎ ููู ุงูุจูุฆุฉ
cp bot/.env.example bot/.env

# ุชุซุจูุช ุงูููุชุจุงุช
cd bot
pip install -r requirements.txt
```

### 2. ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุชูููุฌุฑุงู

**ุงูุญุตูู ุนูู BOT_TOKEN:**
1. ุชูุงุตู ูุน [@BotFather](https://t.me/BotFather)
2. ุฃุฑุณู `/newbot`
3. ุงุชุจุน ุงูุชุนูููุงุช ูุงุญุตู ุนูู ุงูุชููู
4. ุถุน ุงูุชููู ูู `bot/.env` ุชุญุช `TELEGRAM_BOT_TOKEN`

**ุงูุญุตูู ุนูู ADMIN_CHAT_ID:**
1. ุฃุถู ุงูุจูุช ููุฌููุนุฉ ุฃู ุงุณุชุฎุฏูู ุจุดูู ุฎุงุต
2. ุฃุฑุณู ุฑุณุงูุฉ ููุจูุช
3. ุงูุชุญ: `https://api.telegram.org/bot{TOKEN}/getUpdates`
4. ุงุจุญุซ ุนู `chat.id` ูุถุนู ูู `bot/.env` ุชุญุช `TELEGRAM_ADMIN_CHAT_ID`

### 3. ุชุดุบูู ุงูุจูุช

```bash
python -m main
```

## ูุงุนุฏุฉ ุงูุจูุงูุงุช (SQLite)

### ุฌุฏูู ุงููุดุฑููู (admins)
```sql
user_id     INTEGER  (ุงูููุชุงุญ ุงูุฃุณุงุณู)
username    TEXT
role        TEXT     ('master' ุฃู 'assistant')
added_at    TIMESTAMP
```

### ุฌุฏูู ุทูุจุงุช ุงูุณุญุจ (withdrawal_requests)
```sql
request_id                 TEXT (ูุนุฑู ูุฑูุฏ)
user_id                    INTEGER
username                   TEXT
app_name                   TEXT
currency                   TEXT
amount                     REAL
account_number             TEXT
total_balance              REAL
previous_withdrawals       TEXT
account_creation_date      TEXT
success_count              INTEGER
failed_count               INTEGER
status                     TEXT ('pending', 'approved', 'rejected')
approved_by                INTEGER
approved_at                TIMESTAMP
message_id                 INTEGER
created_at                 TIMESTAMP
```

## API Endpoint

### POST `/api/telegram/webhook`

ูุชู ุงุณุชุฏุนุงุคู ุชููุงุฆูุงู ูู ูุณุงุฑ ุงูุณุญุจ ูู ุงููููุน.

**ุงูุจูุงูุงุช ุงููุฑุณูุฉ:**
```json
{
  "user_id": 123,
  "username": "ุฃุญูุฏ",
  "app_name": "ูุญูุธุฉ ุฌูุจ",
  "currency": "ุฑูุงู ูููู (ูุฏูู)",
  "amount": 1000,
  "account_number": "123456789",
  "total_balance": 5000,
  "previous_withdrawals": 2000,
  "account_creation_date": "2024-01-01",
  "success_count": 5,
  "failed_count": 1
}
```

## ุงูุฃูุงูุฑ

- `/start` - ุจุฏุก ุงูุจูุช (ูููุดุฑููู ููุท)
- `/admin {user_id}` - ุฅุถุงูุฉ ูุดุฑู ุฌุฏูุฏ (ุงููุดุฑู ุงูุฑุฆูุณู ููุท)

## ุงููุฒุงูุง ุงูุชูููุฉ

- **aiogram 3.3**: ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู ููุชุจุฉ Telegram
- **SQLite**: ูุงุนุฏุฉ ุจูุงูุงุช ูุญููุฉ ุขููุฉ
- **FSM (Finite State Machine)**: ููุชุญูู ุจุงูุญูุงุฑุงุช ุงููุนูุฏุฉ
- **Callback Queries**: ููุฃุฒุฑุงุฑ ุงูุชูุงุนููุฉ
- **Inline Keyboards**: ูุงุฌูุฉ ูุณุชุฎุฏู ูุชูุฏูุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุจูุช ูุง ูุฑุฏ ุนูู ุงูุฃูุงูุฑ
- ุชุฃูุฏ ูู ุฃู `TELEGRAM_BOT_TOKEN` ุตุญูุญ
- ุชุฃูุฏ ูู ุฃู user_id ุงูุฎุงุต ุจู ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ูุง ุชุธูุฑ ุงูุฑุณุงุฆู ูู ุงูุชูููุฌุฑุงู
- ุชุฃูุฏ ูู ุฃู `TELEGRAM_ADMIN_CHAT_ID` ุตุญูุญ
- ุชุฃูุฏ ูู ุฃู ุงูุจูุช ูุฏูู ุตูุงุญูุงุช ุงูุฅุฑุณุงู

### ูุดุงูู ุงูุงุชุตุงู ูุน ุงููููุน
- ุชุฃูุฏ ูู ุฃู `/api/telegram/webhook` ูุชุงุญ
- ุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู ุงููููุน

## ุงูุฃูุงู

- ูุชู ุญูุธ ุฌููุน ุงูุจูุงูุงุช ูุญููุงู ูู SQLite
- ูุง ูุชู ูุดุงุฑูุฉ ุจูุงูุงุช ุญุณุงุณุฉ ูุน ุฌูุงุช ุฎุงุฑุฌูุฉ
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ูู ูู ุนูููุฉ
- ุงุณุชุฎุฏุงู callback_data ุขูู ุจุฏูุงู ูู ุงูุจูุงูุงุช ุงููุจุงุดุฑุฉ

## ุงูุฏุนู ูุงูุตูุงูุฉ

- ูุชู ุชุณุฌูู ุฌููุน ุงูุนูููุงุช ูู ุงูุณุฌูุงุช
- ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงุจูุฉ ูููุณุฎ ุงูุงุญุชูุงุทู
- ูููู ุฅุถุงูุฉ ูุดุฑููู ุฌุฏุฏ ูู ุฃู ููุช
